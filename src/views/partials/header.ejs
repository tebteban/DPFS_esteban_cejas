<header class="bg-white shadow-sm sticky top-0 z-50">
    <div class="container mx-auto px-4 sm:px-6 lg:px-8">
        <div class="flex justify-between items-center py-4">
            <div class="flex items-center space-x-2">
                <a href="/">
                    <span class="material-icons text-cyan-500 text-3xl">sports_volleyball</span>
                </a>
                <a href="/" class="font-bold text-xl text-gray-800">SPIKESHOP</a>
            </div>
            
            <nav class="hidden md:flex items-center space-x-8">
                <a class="text-gray-600 hover:text-cyan-500 transition-colors font-medium" href="/">HOGAR</a>
                <a class="text-gray-600 hover:text-cyan-500 transition-colors font-medium" href="/productos">PRODUCTOS</a>
                <a class="text-gray-600 hover:text-cyan-500 transition-colors font-medium" href="/productos/createProduct">SUBIR UN PRODUCTO</a>
            </nav>
            
            <div class="hidden md:flex items-center space-x-4">
                
                <% if (locals.user) { %>
                    <a href="/users/profile" class="flex items-center space-x-2 p-2 rounded-full hover:bg-gray-100 transition-colors">
                        <img 
                            src="<%= user.image %>" 
                            alt="Avatar" 
                            class="h-8 w-8 object-cover rounded-full border border-cyan-500"
                            onerror="this.onerror=null;this.src='/img/users/default.jpg';"
                        >
                        <span class="text-gray-700 font-semibold truncate max-w-[100px]"><%= user.firstName %></span>
                    </a>

                    <a class="px-4 py-2 bg-red-500 text-white rounded-full hover:bg-red-600 transition-colors inline-flex items-center justify-center font-semibold text-sm" href="/users/logout">
                        Logout
                    </a>

                <% } else { %>
                    <a class="px-6 py-2 border border-gray-300 rounded-full text-gray-700 hover:bg-gray-100 transition-colors inline-flex items-center justify-center font-medium" href="/users/register">
                        Registrarse
                    </a>
                    <a class="px-6 py-2 bg-cyan-500 text-white rounded-full hover:bg-cyan-600 transition-colors inline-flex items-center justify-center font-semibold" href="/users/login">
                        Acceso
                    </a>
                <% } %>
                
                <a href="/cart" class="relative">
                    <span class="material-icons text-cyan-500 text-3xl">shopping_cart</span>
                </a>
            </div>
            
            <button class="md:hidden">
                <span class="material-icons">menu</span>
            </button>
        </div>
    </div>
</header>